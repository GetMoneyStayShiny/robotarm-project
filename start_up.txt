Open up the UR_SIM - First go the correct directory
where you installed your ur-sim software from UR

cd ~/ursim-3.11.0.82155/  
./start-ursim.sh

(or.... ./ursim-3.11.0.82155/start-ursim.sh)

Next we connect with the robot via robot_ip
If you have ur_modern_drive:
roslaunch ur_modern_driver ur10_bringup.launch robot_ip:=localhost
If you are on melodic you probably dont have that...
roslaunch ur_bringup ur10_bringup.launch robot_ip:=localhost

I have to use this new package called "ur_robot_driver" since I got an 
error with robot tool calibration.
Every thing you need to know about this package is in the README.md in,
https://github.com/UniversalRobots/Universal_Robots_ROS_Driver 

So if the above two command gives you errors... Try this one. Go to the link 
install the package. Once you do the installation you need to do the calibration.

roslaunch ur_calibration calibration_correction.launch robot_ip:=localhost target_filename:="${HOME}/ur10_calibration.yaml" 
This will create a calibration file in your home (basically this is the tf tree). 

roslaunch ur_robot_driver ur10_bringup.launch robot_ip:=localhost kinematics_config:=$HOME/ur10_calibration.yaml
That's it! Every thing should be working now.

To test you can do the following command (We are going to publish data to see whether the arm is moving)...,
rostopic pub /ur_hardware_interface/script_command std_msgs/String "data: 'speedl([0,0,0.3,0,0,0],0.1,10)'"

Thne if you need to see it in rviz

Open terminal and run the command, 
rviz

In the Display tab, under Global Options change the Fixed frame to base
In the Fixed frame tab (below the Display tab) press "Add"
then under By display type-->rviz select RobotModel
  




